{#
/**
 * @file
 * Theme override for pages internes
 */
#}

<!-- Navigation -->
<nav>
    <div class="logo">
        <div class="logo-flag">
            <div class="flag-stripe flag-green"></div>
            <div class="flag-stripe flag-yellow"></div>
            <div class="flag-stripe flag-red"></div>
        </div>
        <div class="logo-text">
            <h1><a href="/" style="color: inherit; text-decoration: none;">eGov S√©n√©gal</a></h1>
            <div class="logo-subtitle">Plateforme d'Interop√©rabilit√©</div>
        </div>
    </div>

    {# Menu Desktop #}
    <div class="nav-menu-desktop">
        {% if page.primary_menu %}
            {{ page.primary_menu }}
        {% endif %}
    </div>

    {# Actions Mobile #}
    <div class="nav-actions-mobile">
        <button class="search-btn">üîç</button>
        <button class="hamburger-btn" id="hamburgerBtn">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </div>
</nav>

<!-- Breadcrumb (Fil d'Ariane) -->
{% if breadcrumb %}
<div class="breadcrumb-container">
    <div class="container-page">
        {{ breadcrumb }}
    </div>
</div>
{% endif %}

<!-- Header de Page Interne -->
<section class="internal-page-header">
    <div class="container-page">
        {% if page.title %}
            <h1 class="page-title">{{ page.title }}</h1>
        {% endif %}
        
        {% if page.subtitle %}
            <p class="page-subtitle">{{ page.subtitle }}</p>
        {% endif %}
    </div>
</section>

<!-- Contenu Principal -->
<main class="main-content">
    <div class="container-page">
        <div class="content-layout">
            
            <!-- Sidebar (si pr√©sente) -->
            {% if page.sidebar_first %}
            <aside class="sidebar-left">
                {{ page.sidebar_first }}
            </aside>
            {% endif %}
            
            <!-- Contenu Principal -->
            <article class="main-article">
                {# Messages syst√®me #}
                {% if messages %}
                    <div class="messages-wrapper">
                        {{ messages }}
                    </div>
                {% endif %}
                
                {# Contenu de la page #}
                {% if page.content %}
                    {{ page.content }}
                {% endif %}
            </article>
            
            <!-- Sidebar droite (si pr√©sente) -->
            {% if page.sidebar_second %}
            <aside class="sidebar-right">
                {{ page.sidebar_second }}
            </aside>
            {% endif %}
            
        </div>
    </div>
</main>

<!-- Footer -->
<footer>
    <div class="footer-grid">
        <div class="footer-section footer-about">
            <h3>√Ä PROPOS</h3>
            <p>
                La Plateforme Nationale d'Interop√©rabilit√© du S√©n√©gal (eGov S√©n√©gal) 
                est une initiative du Minist√®re de la Communication, des T√©l√©communications 
                et du Num√©rique dans le cadre du New Deal Technologique.
            </p>
            <div class="social-icons">
                <div class="social-icon">üìò</div>
                <div class="social-icon">üê¶</div>
                <div class="social-icon">üíº</div>
                <div class="social-icon">üì∏</div>
                <div class="social-icon">üìπ</div>
            </div>
        </div>

        <div class="footer-section">
            <h3>SERVICES</h3>
            <ul>
                <li><a href="#">Protection Sociale</a></li>
                <li><a href="#">Troisi√®me √Çge</a></li>
                <li><a href="#">√âducation</a></li>
                <li><a href="#">Citoyennet√©</a></li>
                <li><a href="#">Taxes & Imp√¥ts</a></li>
                <li><a href="#">Sant√©</a></li>
            </ul>
        </div>

        <div class="footer-section">
            <h3>RESSOURCES</h3>
            <ul>
                <li><a href="#">Documentation API</a></li>
                <li><a href="#">Guides d'Int√©gration</a></li>
                <li><a href="#">Catalogue d'API</a></li>
                <li><a href="#">Centre d'Aide</a></li>
            </ul>
        </div>

        <div class="footer-section">
            <h3>CONTACT</h3>
            <ul>
                <li><a href="#">üìç Dakar, S√©n√©gal</a></li>
                <li><a href="#">üìß contact@interop.sn</a></li>
                <li><a href="#">üìû +221 33 XXX XX XX</a></li>
            </ul>
        </div>
    </div>

    <div class="footer-bottom">
        <p>¬© 2025 eGov S√©n√©gal - R√©publique du S√©n√©gal</p>
        <div class="footer-bottom-links">
            <a href="#">Mentions L√©gales</a>
            <a href="#">Politique de Confidentialit√©</a>
            <a href="#">Accessibilit√©</a>
        </div>
    </div>
</footer>

<!-- JavaScript Menu Mobile -->
<script>
(function() {
    'use strict';
    
    function initMenu() {
        const hamburger = document.getElementById('hamburgerBtn');
        const menu = document.querySelector('.nav-menu-desktop');
        
        if (!hamburger || !menu) return;
        
        hamburger.onclick = function(e) {
            e.preventDefault();
            this.classList.toggle('active');
            menu.classList.toggle('open');
        };
        
        document.onclick = function(e) {
            if (!menu.contains(e.target) && !hamburger.contains(e.target)) {
                hamburger.classList.remove('active');
                menu.classList.remove('open');
            }
        };
        
        const items = document.querySelectorAll('.nav-menu-desktop li.menu-item--expanded > a');
        items.forEach(function(link) {
            link.onclick = function(e) {
                if (window.innerWidth <= 968) {
                    e.preventDefault();
                    this.parentElement.classList.toggle('submenu-open');
                }
            };
        });
    }
    
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initMenu);
    } else {
        initMenu();
    }
})();
</script>