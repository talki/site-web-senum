{#
/**
 * @file
 * Theme override for user profile pages.
 */
#}
<div class="layout-container">
  
  {{ page.top_bar }}
  
  <header role="banner">
    {{ page.header }}
  </header>

  {{ page.primary_menu }}
  {{ page.secondary_menu }}

  {{ page.breadcrumb }}

  <main role="main" style="background: #F9FAFB; min-height: calc(100vh - 200px);">
    <a id="main-content" tabindex="-1"></a>

    <div class="layout-content" style="max-width: 1400px; margin: 0 auto; padding: 3rem 2rem;">
      
      <!-- Hero Profile Header -->
      <div style="background: linear-gradient(135deg, #00853F 0%, #00A859 100%); border-radius: 20px; padding: 3rem; margin-bottom: 3rem; color: white; box-shadow: 0 10px 30px rgba(0,133,63,0.2);">
        <div style="display: flex; align-items: center; gap: 2rem;">
          <div style="width: 100px; height: 100px; background: white; border-radius: 20px; display: flex; align-items: center; justify-content: center; font-size: 3rem; box-shadow: 0 4px 12px rgba(0,0,0,0.2);">
            ğŸ‘¤
          </div>
          <div style="flex: 1;">
            <h1 style="font-size: 2.5rem; font-weight: 900; margin-bottom: 0.5rem;">Mon Profil</h1>
            <p style="font-size: 1.1rem; opacity: 0.95; margin: 0;">GÃ©rez vos informations et vos paramÃ¨tres</p>
          </div>
          <div style="display: flex; gap: 1rem;">
            <a href="/user/{{ user.id }}/edit" style="padding: 0.8rem 1.5rem; background: white; color: #00853F; text-decoration: none; border-radius: 12px; font-weight: 700; display: inline-flex; align-items: center; gap: 0.5rem; transition: all 0.3s;">
              âœï¸ Modifier le profil
            </a>
            <a href="/user/logout" style="padding: 0.8rem 1.5rem; background: rgba(255,255,255,0.2); color: white; text-decoration: none; border-radius: 12px; font-weight: 700; border: 2px solid white; display: inline-flex; align-items: center; gap: 0.5rem; transition: all 0.3s;">
              ğŸšª DÃ©connexion
            </a>
          </div>
        </div>
      </div>

      <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 2rem;">
        
        <!-- Sidebar gauche -->
        <div>
          <!-- Carte informations -->
          <div style="background: white; padding: 2rem; border-radius: 20px; box-shadow: 0 5px 20px rgba(0,0,0,0.08); margin-bottom: 2rem;">
            <h2 style="font-size: 1.3rem; font-weight: 800; color: #2C3E50; margin-bottom: 1.5rem; display: flex; align-items: center; gap: 0.5rem;">
              ğŸ“‹ Informations
            </h2>
            <div style="display: grid; gap: 1rem;">
              <div style="padding: 1rem; background: #F9FAFB; border-radius: 12px;">
                <div style="font-size: 0.85rem; color: #7F8C8D; margin-bottom: 0.3rem;">Nom d'utilisateur</div>
                <div style="font-weight: 700; color: #2C3E50;">{{ user.name }}</div>
              </div>
              <div style="padding: 1rem; background: #F9FAFB; border-radius: 12px;">
                <div style="font-size: 0.85rem; color: #7F8C8D; margin-bottom: 0.3rem;">RÃ´le</div>
                <div style="font-weight: 700; color: #2C3E50;">
                  {% if 'administrator' in user.getroles %}
                    <span style="background: #E31B23; color: white; padding: 0.3rem 0.8rem; border-radius: 20px; font-size: 0.85rem;">ğŸ‘‘ Administrateur</span>
                  {% else %}
                    <span style="background: #3B82F6; color: white; padding: 0.3rem 0.8rem; border-radius: 20px; font-size: 0.85rem;">ğŸ‘¤ Utilisateur</span>
                  {% endif %}
                </div>
              </div>
              <div style="padding: 1rem; background: #F9FAFB; border-radius: 12px;">
                <div style="font-size: 0.85rem; color: #7F8C8D; margin-bottom: 0.3rem;">Membre depuis</div>
                <div style="font-weight: 700; color: #2C3E50;">{{ user.created|date('d/m/Y') }}</div>
              </div>
              <div style="padding: 1rem; background: #F9FAFB; border-radius: 12px;">
                <div style="font-size: 0.85rem; color: #7F8C8D; margin-bottom: 0.3rem;">DerniÃ¨re connexion</div>
                <div style="font-weight: 700; color: #2C3E50;">{{ user.access|date('d/m/Y H:i') }}</div>
              </div>
            </div>
          </div>

          <!-- AccÃ¨s rapides -->
          <div style="background: white; padding: 2rem; border-radius: 20px; box-shadow: 0 5px 20px rgba(0,0,0,0.08);">
            <h3 style="font-size: 1.3rem; font-weight: 800; color: #2C3E50; margin-bottom: 1.5rem; display: flex; align-items: center; gap: 0.5rem;">
              ğŸ”— AccÃ¨s Rapides
            </h3>
            <div style="display: grid; gap: 0.8rem;">
              <a href="/admin/content" style="padding: 1rem; background: #F9FAFB; border-radius: 12px; text-decoration: none; color: #2C3E50; font-weight: 600; display: flex; align-items: center; gap: 0.8rem; transition: all 0.3s;">
                <span style="font-size: 1.5rem;">ğŸ“„</span>
                <span>Contenu</span>
              </a>
              <a href="/admin/structure" style="padding: 1rem; background: #F9FAFB; border-radius: 12px; text-decoration: none; color: #2C3E50; font-weight: 600; display: flex; align-items: center; gap: 0.8rem; transition: all 0.3s;">
                <span style="font-size: 1.5rem;">ğŸ—ï¸</span>
                <span>Structure</span>
              </a>
              <a href="/admin/appearance" style="padding: 1rem; background: #F9FAFB; border-radius: 12px; text-decoration: none; color: #2C3E50; font-weight: 600; display: flex; align-items: center; gap: 0.8rem; transition: all 0.3s;">
                <span style="font-size: 1.5rem;">ğŸ¨</span>
                <span>Apparence</span>
              </a>
              <a href="/admin/config" style="padding: 1rem; background: #F9FAFB; border-radius: 12px; text-decoration: none; color: #2C3E50; font-weight: 600; display: flex; align-items: center; gap: 0.8rem; transition: all 0.3s;">
                <span style="font-size: 1.5rem;">âš™ï¸</span>
                <span>Configuration</span>
              </a>
            </div>
          </div>
        </div>

        <!-- Contenu principal -->
        <div>
          <!-- Statistiques -->
          <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; margin-bottom: 2rem;">
            <div style="background: linear-gradient(135deg, #00853F, #00A859); padding: 2rem; border-radius: 20px; color: white; box-shadow: 0 5px 20px rgba(0,133,63,0.2);">
              <div style="font-size: 0.9rem; opacity: 0.9; margin-bottom: 0.5rem;">Pages crÃ©Ã©es</div>
              <div style="font-size: 2.5rem; font-weight: 900;">12</div>
            </div>
            <div style="background: linear-gradient(135deg, #3B82F6, #60A5FA); padding: 2rem; border-radius: 20px; color: white; box-shadow: 0 5px 20px rgba(59,130,246,0.2);">
              <div style="font-size: 0.9rem; opacity: 0.9; margin-bottom: 0.5rem;">Connexions</div>
              <div style="font-size: 2.5rem; font-weight: 900;">47</div>
            </div>
            <div style="background: linear-gradient(135deg, #FCD116, #FDE68A); padding: 2rem; border-radius: 20px; color: #2C3E50; box-shadow: 0 5px 20px rgba(252,209,22,0.2);">
              <div style="font-size: 0.9rem; opacity: 0.9; margin-bottom: 0.5rem;">Jours actifs</div>
              <div style="font-size: 2.5rem; font-weight: 900;">{{ "now"|date('U') - user.created|date('U') }}</div>
            </div>
          </div>

          <!-- Contenu de la page -->
          <div style="background: white; padding: 2.5rem; border-radius: 20px; box-shadow: 0 5px 20px rgba(0,0,0,0.08);">
            {{ page.content }}
          </div>

          <!-- ActivitÃ© rÃ©cente -->
          <div style="background: white; padding: 2.5rem; border-radius: 20px; box-shadow: 0 5px 20px rgba(0,0,0,0.08); margin-top: 2rem;">
            <h2 style="font-size: 1.5rem; font-weight: 800; color: #2C3E50; margin-bottom: 1.5rem; display: flex; align-items: center; gap: 0.5rem;">
              ğŸ“Š ActivitÃ© RÃ©cente
            </h2>
            <div style="display: grid; gap: 1rem;">
              <div style="padding: 1.2rem; background: #F9FAFB; border-radius: 12px; border-left: 4px solid #00853F; display: flex; justify-content: space-between; align-items: center;">
                <div>
                  <div style="font-weight: 700; color: #2C3E50; margin-bottom: 0.3rem;">Page "Visualisations Graphiques" crÃ©Ã©e</div>
                  <div style="font-size: 0.85rem; color: #7F8C8D;">Il y a 2 heures</div>
                </div>
                <div style="background: #E8F5E9; color: #00853F; padding: 0.4rem 1rem; border-radius: 20px; font-size: 0.85rem; font-weight: 700;">PUBLIÃ‰</div>
              </div>

              <div style="padding: 1.2rem; background: #F9FAFB; border-radius: 12px; border-left: 4px solid #3B82F6; display: flex; justify-content: space-between; align-items: center;">
                <div>
                  <div style="font-weight: 700; color: #2C3E50; margin-bottom: 0.3rem;">Page "Historique des Indicateurs" modifiÃ©e</div>
                  <div style="font-size: 0.85rem; color: #7F8C8D;">Il y a 5 heures</div>
                </div>
                <div style="background: #E3F2FD; color: #3B82F6; padding: 0.4rem 1rem; border-radius: 20px; font-size: 0.85rem; font-weight: 700;">MODIFIÃ‰</div>
              </div>

              <div style="padding: 1.2rem; background: #F9FAFB; border-radius: 12px; border-left: 4px solid #FCD116; display: flex; justify-content: space-between; align-items: center;">
                <div>
                  <div style="font-weight: 700; color: #2C3E50; margin-bottom: 0.3rem;">Connexion rÃ©ussie</div>
                  <div style="font-size: 0.85rem; color: #7F8C8D;">Aujourd'hui Ã  14:23</div>
                </div>
                <div style="background: #FFF9C4; color: #F57C00; padding: 0.4rem 1rem; border-radius: 20px; font-size: 0.85rem; font-weight: 700;">SÃ‰CURITÃ‰</div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </main>

  {% if page.footer %}
    <footer role="contentinfo">
      {{ page.footer }}
    </footer>
  {% endif %}

</div>

<style>
  /* Ajustements pour liens hover */
  a[href^="/admin"]:hover {
    background: #00853F !important;
    color: white !important;
    transform: translateX(5px);
  }
  
  a[href*="edit"]:hover,
  a[href*="logout"]:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
  }
  
  /* Responsive */
  @media (max-width: 968px) {
    .layout-content > div {
      grid-template-columns: 1fr !important;
    }
    
    .layout-content > div > div:first-child > div:nth-child(1) > div {
      grid-template-columns: repeat(2, 1fr) !important;
    }
  }
</style>
