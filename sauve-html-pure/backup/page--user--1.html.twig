{#
/**
 * @file
 * Page profil utilisateur - Design moderne FULL
 */
#}

{# Top Bar #}
<div class="top-bar">
    <div class="container">
        <div class="top-bar-content">
            <div class="top-bar-left">
                <div class="top-bar-item">
                    <span>ğŸ“§</span>
                    <span>contact@interop.sn</span>
                </div>
                <div class="top-bar-item">
                    <span>ğŸ“</span>
                    <span>+221 33 XXX XX XX</span>
                </div>
            </div>
            <div class="top-bar-right">
                <a href="#" class="social-link"></a>
                <a href="#" class="social-link"></a>
                <a href="#" class="social-link"></a>
                <a href="#" class="social-link"></a>
            </div>
        </div>
    </div>
</div>

{# Navigation #}
<nav class="main-navigation">
    <div class="container">
        <div class="nav-content">
            <div class="logo-container">
                <a href="/" style="text-decoration: none; display: flex; align-items: center; gap: 1rem;">
                    <div class="logo-flag">
                        <div class="flag-stripe flag-green"></div>
                        <div class="flag-stripe flag-yellow">â­</div>
                        <div class="flag-stripe flag-red"></div>
                    </div>
                    <div class="logo-text-container">
                        <h1 style="margin: 0; color: var(--senegal-green);">InteropÃ©rabilitÃ©</h1>
                        <div class="logo-subtitle">RÃ©publique du SÃ©nÃ©gal</div>
                    </div>
                </a>
            </div>

            {% if page.primary_menu %}
                {{ page.primary_menu }}
            {% endif %}
        </div>
    </div>
</nav>

<main role="main" style="background: #F9FAFB; min-height: calc(100vh - 200px); padding: 3rem 0;">
    <div style="max-width: 1400px; margin: 0 auto; padding: 0 3%;">
      
      {# Hero Profile Header #}
      <div style="background: linear-gradient(135deg, #00853F 0%, #00A859 100%); border-radius: 20px; padding: 3rem; margin-bottom: 3rem; color: white; box-shadow: 0 10px 30px rgba(0,133,63,0.2);">
        <div style="display: flex; align-items: center; gap: 2rem; flex-wrap: wrap;">
          <div style="width: 100px; height: 100px; background: white; border-radius: 20px; display: flex; align-items: center; justify-content: center; font-size: 3rem; box-shadow: 0 4px 12px rgba(0,0,0,0.2);">
            ğŸ‘¤
          </div>
          <div style="flex: 1; min-width: 300px;">
            <h1 style="font-size: 2.5rem; font-weight: 900; margin-bottom: 0.5rem;">Mon Profil</h1>
            <p style="font-size: 1.1rem; opacity: 0.95; margin: 0;">GÃ©rez vos informations et vos paramÃ¨tres</p>
          </div>
          <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
            <a href="/user/{{ user.id }}/edit" style="padding: 0.8rem 1.5rem; background: white; color: #00853F; text-decoration: none; border-radius: 12px; font-weight: 700; display: inline-flex; align-items: center; gap: 0.5rem; transition: all 0.3s;">
              âœï¸ Modifier le profil
            </a>
            <a href="{{ path('user.logout') }}" style="padding: 0.8rem 1.5rem; background: rgba(255,255,255,0.2); color: white; text-decoration: none; border-radius: 12px; font-weight: 700; border: 2px solid white; display: inline-flex; align-items: center; gap: 0.5rem; transition: all 0.3s;">
              ğŸšª DÃ©connexion
            </a>
          </div>
        </div>
      </div>

      <div style="display: grid; grid-template-columns: 300px 1fr; gap: 2rem;">
        
        {# Sidebar gauche - STYLISÃ‰E #}
        <div style="display: flex; flex-direction: column; gap: 2rem;">
          
          {# Menu de navigation utilisateur #}
          <div style="background: white; padding: 2rem; border-radius: 20px; box-shadow: 0 5px 20px rgba(0,0,0,0.08);">
            <h2 style="font-size: 1.3rem; font-weight: 800; color: #2C3E50; margin-bottom: 1.5rem; display: flex; align-items: center; gap: 0.5rem;">
              ğŸ‘¤ Navigation
            </h2>
            <div style="display: grid; gap: 0.8rem;">
              <a href="/user/{{ user.id }}" style="padding: 1rem; background: #00853F; color: white; border-radius: 12px; text-decoration: none; font-weight: 600; display: flex; align-items: center; gap: 0.8rem; transition: all 0.3s;">
                <span style="font-size: 1.2rem;">ğŸ‘ï¸</span>
                <span>Voir le profil</span>
              </a>
              <a href="/user/{{ user.id }}/edit" style="padding: 1rem; background: #F9FAFB; color: #2C3E50; border-radius: 12px; text-decoration: none; font-weight: 600; display: flex; align-items: center; gap: 0.8rem; transition: all 0.3s;">
                <span style="font-size: 1.2rem;">âœï¸</span>
                <span>Modifier le profil</span>
              </a>
              <a href="{{ path('user.logout') }}" style="padding: 1rem; background: #F9FAFB; color: #2C3E50; border-radius: 12px; text-decoration: none; font-weight: 600; display: flex; align-items: center; gap: 0.8rem; transition: all 0.3s;">
                <span style="font-size: 1.2rem;">ğŸšª</span>
                <span>Se dÃ©connecter</span>
              </a>
            </div>
          </div>

          {# Carte informations #}
          <div style="background: white; padding: 2rem; border-radius: 20px; box-shadow: 0 5px 20px rgba(0,0,0,0.08);">
            <h2 style="font-size: 1.3rem; font-weight: 800; color: #2C3E50; margin-bottom: 1.5rem; display: flex; align-items: center; gap: 0.5rem;">
              ğŸ“‹ Informations
            </h2>
            <div style="display: grid; gap: 1rem;">
              <div style="padding: 1rem; background: #F9FAFB; border-radius: 12px;">
                <div style="font-size: 0.85rem; color: #7F8C8D; margin-bottom: 0.3rem;">Nom d'utilisateur</div>
                <div style="font-weight: 700; color: #2C3E50;">{{ user.getAccountName() }}</div>
              </div>
              <div style="padding: 1rem; background: #F9FAFB; border-radius: 12px;">
                <div style="font-size: 0.85rem; color: #7F8C8D; margin-bottom: 0.3rem;">RÃ´le</div>
                <div style="font-weight: 700; color: #2C3E50;">
                  <span style="background: #E31B23; color: white; padding: 0.3rem 0.8rem; border-radius: 20px; font-size: 0.85rem;">ğŸ‘‘ Administrateur</span>
                </div>
              </div>
              <div style="padding: 1rem; background: #F9FAFB; border-radius: 12px;">
                <div style="font-size: 0.85rem; color: #7F8C8D; margin-bottom: 0.3rem;">Membre depuis</div>
                <div style="font-weight: 700; color: #2C3E50;">{{ user.getCreatedTime()|date('d/m/Y') }}</div>
              </div>
            </div>
          </div>

          {# AccÃ¨s rapides Admin #}
          <div style="background: white; padding: 2rem; border-radius: 20px; box-shadow: 0 5px 20px rgba(0,0,0,0.08);">
            <h3 style="font-size: 1.3rem; font-weight: 800; color: #2C3E50; margin-bottom: 1.5rem; display: flex; align-items: center; gap: 0.5rem;">
              ğŸ”— Administration
            </h3>
            <div style="display: grid; gap: 0.8rem;">
              <a href="/admin/content" style="padding: 1rem; background: #F9FAFB; border-radius: 12px; text-decoration: none; color: #2C3E50; font-weight: 600; display: flex; align-items: center; gap: 0.8rem; transition: all 0.3s;">
                <span style="font-size: 1.5rem;">ğŸ“„</span>
                <span>Contenu</span>
              </a>
              <a href="/admin/structure" style="padding: 1rem; background: #F9FAFB; border-radius: 12px; text-decoration: none; color: #2C3E50; font-weight: 600; display: flex; align-items: center; gap: 0.8rem; transition: all 0.3s;">
                <span style="font-size: 1.5rem;">ğŸ—ï¸</span>
                <span>Structure</span>
              </a>
              <a href="/admin/appearance" style="padding: 1rem; background: #F9FAFB; border-radius: 12px; text-decoration: none; color: #2C3E50; font-weight: 600; display: flex; align-items: center; gap: 0.8rem; transition: all 0.3s;">
                <span style="font-size: 1.5rem;">ğŸ¨</span>
                <span>Apparence</span>
              </a>
              <a href="/admin/config" style="padding: 1rem; background: #F9FAFB; border-radius: 12px; text-decoration: none; color: #2C3E50; font-weight: 600; display: flex; align-items: center; gap: 0.8rem; transition: all 0.3s;">
                <span style="font-size: 1.5rem;">âš™ï¸</span>
                <span>Configuration</span>
              </a>
            </div>
          </div>
        </div>

        {# Contenu principal #}
        <div>
          {# Statistiques #}
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
            <div style="background: linear-gradient(135deg, #00853F, #00A859); padding: 2rem; border-radius: 20px; color: white; box-shadow: 0 5px 20px rgba(0,133,63,0.2);">
              <div style="font-size: 0.9rem; opacity: 0.9; margin-bottom: 0.5rem;">Pages crÃ©Ã©es</div>
              <div style="font-size: 2.5rem; font-weight: 900;">12</div>
            </div>
            <div style="background: linear-gradient(135deg, #3B82F6, #60A5FA); padding: 2rem; border-radius: 20px; color: white; box-shadow: 0 5px 20px rgba(59,130,246,0.2);">
              <div style="font-size: 0.9rem; opacity: 0.9; margin-bottom: 0.5rem;">Connexions</div>
              <div style="font-size: 2.5rem; font-weight: 900;">47</div>
            </div>
            <div style="background: linear-gradient(135deg, #FCD116, #FDE68A); padding: 2rem; border-radius: 20px; color: #2C3E50; box-shadow: 0 5px 20px rgba(252,209,22,0.2);">
              <div style="font-size: 0.9rem; opacity: 0.9; margin-bottom: 0.5rem;">Jours actifs</div>
              <div style="font-size: 2.5rem; font-weight: 900;">{{ (("now"|date('U')) - (user.getCreatedTime()))|number_format(0) // 86400 }}</div>
            </div>
          </div>

          {# Contenu de la page #}
          <div style="background: white; padding: 2.5rem; border-radius: 20px; box-shadow: 0 5px 20px rgba(0,0,0,0.08);">
            {{ page.content }}
          </div>
        </div>
      </div>

    </div>
</main>

{# Footer #}
<footer>
  <div class="footer-grid">
    <div class="footer-section footer-about">
      <div class="social-icons">
        <div class="social-icon"></div>
        <div class="social-icon"></div>
        <div class="social-icon"></div>
        <div class="social-icon"></div>
      </div>
    </div>

    <div class="footer-section">
      <h3>LIENS RAPIDES</h3>
      <ul>
        <li><a href="#">Vision & Mission</a></li>
        <li><a href="#">Gouvernance</a></li>
      </ul>
    </div>

    <div class="footer-section">
      <h3>RESSOURCES</h3>
      <ul>
        <li><a href="#">Documentation Technique</a></li>
        <li><a href="#">Catalogue d'API</a></li>
      </ul>
    </div>

    <div class="footer-section">
      <h3>CONTACT</h3>
      <div class="footer-contact-item">
        <span>ğŸ“</span>
        <span>Dakar, SÃ©nÃ©gal</span>
      </div>
    </div>
  </div>

  <div class="footer-bottom">
    <p>Â© 2025 MCTN/SENUM - RÃ©publique du SÃ©nÃ©gal</p>
  </div>
</footer>

<style>
  /* Hover effects */
  a[href^="/admin"]:hover,
  a[href*="/user/"]:hover {
    background: #00853F !important;
    color: white !important;
    transform: translateX(5px);
  }
  
  /* Responsive */
  @media (max-width: 968px) {
    main > div > div {
      grid-template-columns: 1fr !important;
    }
  }
</style>
