{#
/**
 * @file
 * Template pour node--actualite.html.twig
 * Affichage des actualit√©s individuelles selon le mode (teaser, full)
 */
#}
aaaaaaaaaaokkkkkkokkkkkkokkkkkkokkkkkkokkkkkkokkkkkkokkkkkkokkkkkk
{% set categorie = node.field_categorie.value|default('info') %}
{% set date_creation = node.created.value|date('d M Y') %}
{% set extrait = node.body.summary|default(node.field_extrait.value)|default('Contenu de l\'actualit√©...') %}

{% if view_mode == 'full' %}
    {# =============================================================
       MODE PAGE COMPLETE (quand on clique sur un article)
       ============================================================= #}
    
    <article class="actualite-full-page">
        
        <!-- Hero de l'article -->
        <header class="actualite-header">
            <div class="actualite-hero">
                <div class="actualite-hero-content">
                    
                    <!-- Badge cat√©gorie -->
                    <div class="actualite-category-badge badge-{{ categorie|lower }}">
                        {% if categorie == 'urgent' %}‚ö†Ô∏è URGENT
                        {% elseif categorie == 'nouveau' %}üéâ NOUVEAU  
                        {% elseif categorie == 'info' %}üìÑ INFO
                        {% elseif categorie == 'annonce' %}üì¢ ANNONCE
                        {% else %}üì∞ ACTUALIT√â
                        {% endif %}
                    </div>
                    
                    <!-- Titre principal -->
                    <h1 class="actualite-title">{{ node.title.value }}</h1>
                    
                    <!-- M√©tadonn√©es -->
                    <div class="actualite-meta">
                        <div class="meta-item">
                            <span class="meta-icon">üìÖ</span>
                            <span>{{ date_creation }}</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-icon">üë§</span>
                            <span>{{ node.owner.entity.name.value|default('Admin') }}</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-icon">‚è±Ô∏è</span>
                            <span>{{ random(3, 8) }} min de lecture</span>
                        </div>
                    </div>
                    
                    <!-- Extrait/r√©sum√© -->
                    {% if extrait %}
                    <p class="actualite-excerpt">{{ extrait }}</p>
                    {% endif %}
                    
                </div>
            </div>
        </header>
        
        <!-- Contenu principal -->
        <div class="actualite-content">
            <div class="actualite-container">
                
                <!-- Corps de l'article -->
                {% if node.body.value %}
                <div class="actualite-body">
                    {{ node.body.value|raw }}
                </div>
                {% endif %}
                
                <!-- Actions -->
                <div class="actualite-actions">
                    <a href="/actualites" class="btn-back">
                        ‚Üê Retour aux actualit√©s
                    </a>
                    
                    <div class="social-share">
                        <span>Partager :</span>
                        <a href="#" class="share-btn" title="Partager sur Facebook">üìò</a>
                        <a href="#" class="share-btn" title="Partager sur Twitter">üê¶</a>
                        <a href="#" class="share-btn" title="Partager par email">üìß</a>
                    </div>
                </div>
                
            </div>
        </div>
        
    </article>

{% else %}
    {# =============================================================
       MODE TEASER/CARD (pour la liste et la grille)
       ============================================================= #}
    
    <article class="article-card" data-category="{{ categorie|lower }}">
        
        <!-- Image/Ic√¥ne -->
        <div class="article-image">
            <span class="article-badge badge-{{ categorie|lower }}">
                {{ categorie|upper }}
            </span>
            
            <!-- Ic√¥ne selon la cat√©gorie -->
            {% if categorie == 'urgent' %}‚ö†Ô∏è
            {% elseif categorie == 'nouveau' %}üéâ
            {% elseif categorie == 'info' %}üìÑ
            {% elseif categorie == 'annonce' %}üì¢
            {% else %}üì∞
            {% endif %}
        </div>
        
        <!-- Contenu de la card -->
        <div class="article-content">
            
            <!-- M√©tadonn√©es -->
            <div class="article-meta">
                <span>üìÖ {{ date_creation }}</span>
                <span>‚è±Ô∏è {{ random(3, 8) }} min</span>
            </div>
            
            <!-- Titre (avec lien vers l'article complet) -->
            <h3 class="article-title">
                <a href="{{ url('entity.node.canonical', {'node': node.id}) }}">
                    {{ node.title.value }}
                </a>
            </h3>
            
            <!-- Extrait -->
            <p class="article-excerpt">{{ extrait }}</p>
            
            <!-- Action -->
            <a href="{{ url('entity.node.canonical', {'node': node.id}) }}" class="article-link">
                <span>Lire plus</span>
                <span>‚Üí</span>
            </a>
            
        </div>
        
    </article>

{% endif %}
